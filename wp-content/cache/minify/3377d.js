var $youtubeBGVideos={};function _fbRowGetAllElementsWithAttribute(e){var t,i,a=[],o=document.getElementsByTagName("*");for(t=0,i=o.length;t<i;t++)o[t].getAttribute(e)&&!jQuery(o[t]).parents(".tfs-slider").length&&a.push(o[t]);return a}function _fbRowOnPlayerReady(e){var t,i,a=e.target,o=0,n=!0;a.playVideo(),a.isMute&&a.mute(),0!==jQuery("[data-youtube-video-id="+a.getVideoData().video_id+"]").data("loop")&&(t=a.getCurrentTime(),i=+new Date/1e3,a.loopInterval=setInterval(function(){void 0!==a.loopTimeout&&clearTimeout(a.loopTimeout),t===a.getCurrentTime()?o=t+(+new Date/1e3-i):(o=a.getCurrentTime(),i=+new Date/1e3),t=a.getCurrentTime(),o+(n?.45:.21)>=a.getDuration()&&(a.pauseVideo(),a.seekTo(0),a.playVideo(),n=!1)},150))}function _fbRowOnPlayerStateChange(e){e.data===YT.PlayerState.ENDED?(void 0!==e.target.loopTimeout&&clearTimeout(e.target.loopTimeout),0!==jQuery("[data-youtube-video-id="+e.target.getVideoData().video_id+"]").data("loop")&&e.target.seekTo(0)):e.data===YT.PlayerState.PLAYING&&jQuery(e.target.getIframe()).parent().css("opacity","1")}function resizeVideo(e){var t,i,a,o,n,d,s,r,u,f,l,v,c,y,m,p=e.parent();p.find("iframe").hasClass("fusion-hidden")&&p.find("iframe").attr("data-privacy-src")||(null!==p.find("iframe").width()?((t=e).css({width:"auto",height:"auto",left:"auto",top:"auto"}),t.css("position","absolute"),y=p.find("> div").data("display"),o=p.width(),n=p.height(),i=p.outerWidth(),a=p.outerHeight(),r=[16,9],void 0!==e.attr("data-video-aspect-ratio")&&-1!==e.attr("data-video-aspect-ratio").indexOf(":")&&((r=e.attr("data-video-aspect-ratio").split(":"))[0]=parseFloat(r[0]),r[1]=parseFloat(r[1])),s=a,d=r[0]/r[1]*a,"contain"===y?(p.css("paddingTop",p.parent("li").find(".slide-content-container").css("paddingTop")),s>=a&&(u=a,f=r[0]/r[1]*a),f>=i&&(f=i,u=r[1]/r[0]*i)):d>=i&&s>=a?(u=a,f=r[0]/r[1]*a):(f=i,u=r[1]/r[0]*i),l=-(u-n)/2,p.hasClass("fusion-flex-container")?(v="auto",c="auto"):(v=-(f-o)/2,c="0"),1>p.find(".fusion-video-cover").length&&p.find("iframe").parent().prepend('<div class="fusion-video-cover">&nbsp;</div>'),p.is(":visible")&&(p.find(".fusion-video-cover").css({"z-index":0,width:f,height:u,position:"absolute"}),m="iframe",p.hasClass("video-background")&&(m="iframe.fusion-container-video-bg"),jQuery("body").hasClass("rtl")?p.find(m).parent().css({marginRight:v,marginLeft:c,marginTop:l}):p.find(m).parent().css({marginRight:c,marginLeft:v,marginTop:l}),p.find(m).css({width:f,height:u,"z-index":-1}))):setTimeout(function(){resizeVideo(e)},500))}if(Number(fusionVideoBgVars.status_yt))var onYouTubeIframeAPIReady=function(){var e,t,i,a,o,n=_fbRowGetAllElementsWithAttribute("data-youtube-video-id");if("function"!=typeof fusionGetConsent||fusionGetConsent("youtube"))for(e=0;e<n.length;e++){for(t=n[e].getAttribute("data-youtube-video-id"),i="",a=0;a<n[e].childNodes.length;a++)if(/div/i.test(n[e].childNodes[a].tagName)){i=n[e].childNodes[a].getAttribute("id");break}""!==i&&((o=new YT.Player(i,{height:"auto",width:"auto",videoId:t,playerVars:{autohide:1,autoplay:1,fs:0,showinfo:0,modestBranding:1,start:0,controls:0,rel:0,disablekb:1,iv_load_policy:3,wmode:"transparent"},events:{onReady:_fbRowOnPlayerReady,onStateChange:_fbRowOnPlayerStateChange}})).isMute=!1,"yes"===n[e].getAttribute("data-mute")&&(o.isMute=!0),"true"===n[e].getAttribute("data-youtube-video-id")&&o.setPlaybackQuality("hd720"),setTimeout(function(){jQuery("#"+i).css("visibility","visible")},500))}};function vimeoReady(e){var t,i=jQuery("#"+e).parents("[data-vimeo-video-id]").first();("function"!=typeof fusionGetConsent||fusionGetConsent("vimeo"))&&(t=new Vimeo.Player(e),"yes"===i.data("mute")&&t.setVolume(0),"no"===i.data("mute")&&t.setVolume(1),t.on("timeupdate",function(e){i.css("opacity","1"),t.off("timeupdate")}),jQuery("#"+e).attr("data-privacy-src")&&resizeVideo(i))}function fusionInitVimeoPlayers(){var e,t,i,a,o;if(("function"!=typeof fusionGetConsent||fusionGetConsent("vimeo"))&&Number(fusionVideoBgVars.status_vimeo)&&0<(e=jQuery("[data-vimeo-video-id]")).length)for(i=(t=e.find('> iframe, iframe[data-privacy-type="vimeo"]')).length,o=0;o<i;o++)a=t[o],jQuery("html").hasClass("ua-ie-11")&&jQuery(a).parent().css("opacity","1"),"function"==typeof vimeoReady&&vimeoReady(a.getAttribute("id"))}jQuery(document).ready(function(e){e("body").hasClass("vc_editor")||(e(".bg-parallax.video, .fusion-bg-parallax.video").each(function(){e(this).prependTo(e(this).next().addClass("video")),e(this).css({opacity:Math.abs(parseFloat(e(this).attr("data-opacity"))/100)})}),e("[data-youtube-video-id], [data-vimeo-video-id]").parent().css("overflow","hidden"),e("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var t=e(this);setTimeout(function(){resizeVideo(t)},100)}),e("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var t=e(this);setTimeout(function(){resizeVideo(t)},1e3)}),e(window).resize(function(){e("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var t=e(this);setTimeout(function(){resizeVideo(t)},2)})}),fusionInitVimeoPlayers())}),jQuery(window).on("load fusion-element-render-fusion_builder_container",function(e,t){var i=void 0!==t?jQuery('div[data-cid="'+t+'"]').find("[data-youtube-video-id], [data-vimeo-video-id]"):jQuery("[data-youtube-video-id], [data-vimeo-video-id]");void 0!==t&&Number(fusionVideoBgVars.status_yt)&&onYouTubeIframeAPIReady(),i.each(function(){var e=jQuery(this);setTimeout(function(){resizeVideo(e)},500)})});;(function(){var t,i;t=this.jQuery||window.jQuery,i=t(window),t.fn.stick_in_parent=function(s){var o,n,e,r,c,a,f,u,l,g,d,k,p,h,y,v,m,b,_,C;for(null==s&&(s={}),k=s.sticky_class,a=s.inner_scrolling,d=s.recalc_every,g=s.parent,l=s.offset_top,u=s.spacer,e=s.bottoming,p=void 0!==s.transition_offset&&parseFloat(s.transition_offset),h=void 0!==s.observer&&s.observer,y=void 0!==s.scroll_transition&&parseFloat(s.scroll_transition),v=void 0!==s.clone&&s.clone,m=!1,adminBarHeight=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,null==l&&(l=0),"fusion-container-stuck"===k&&"object"==typeof fusion&&"function"==typeof fusion.getHeight&&(l=fusion.getHeight(l)+adminBarHeight),null==g&&(g=void 0),null==a&&(a=!0),null==k&&(k="is_stuck"),o=t(document),null==e&&(e=!0),r=function(n,r,c,f,w,x,j,H){var Q,I,z,A,B,M,O,T,F,G,S,W,D;if(!n.data("sticky_kit")){if(n.attr("data-sticky_kit",!0),B=o.height(),O=n.parent(),null!=g&&(O=O.closest(g)),!O.length)throw"failed to find stick parent";if(z=!1,Q=!1,null!=u?S=u&&n.closest(u):v?(S=n.clone(!1)).addClass("fusion-sticky-spacer").removeClass("fusion-sticky-transition"):S=jQuery('<div class="fusion-sticky-spacer" />'),S&&S.css("position",n.css("position")),overlap=function(t,i){"object"==typeof t&&"object"==typeof t[0]&&(t[0].isIntersecting?n.removeClass("fusion-sticky-transition"):n.addClass("fusion-sticky-transition"))},h&&(D=new IntersectionObserver(overlap,{rootMargin:"0px",threshold:1})),(T=function(){var t,i,s,e;if(!H)return B=o.height(),t=parseInt(O.css("border-top-width"),10),i=parseInt(O.css("padding-top"),10),r=parseInt(O.css("padding-bottom"),10),c=O.offset().top+t+i,f=O.height(),z&&(z=!1,Q=!1,null==u&&(n.next(".fusion-sticky-spacer").length?S=n.next(".fusion-sticky-spacer"):n.insertAfter(S)),n.css({position:"",top:"",width:"",bottom:""}).removeClass(k),s=!0),w=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-l,x=n.outerHeight(!0),j=n.css("float"),S&&(e={width:n.outerWidth(!0),display:n.css("display"),"vertical-align":n.css("vertical-align"),float:j},v||(e.height=x),S.css(e)),s?W():void 0})(),x!==f){if(A=void 0,M=l,G=d,W=function(){var t,s,g,v,m,b;if(!H)return g=!1,null!=G&&0>=(G-=1)&&(G=d,T(),g=!0),null==G||g||o.height()===B||(T(),g=!0),v=i.scrollTop(),null!=A&&(s=v-A),A=v,z?(e&&(m=v+x+M>f+c,Q&&!m&&(Q=!1,n.css({position:"fixed",bottom:"",top:M}).trigger("sticky_kit:unbottom"))),v<w&&(z=!1,M=l,null==u&&("left"!==j&&"right"!==j||n.insertAfter(S),S&&S.detach()),t={position:"",width:"",top:""},n.css(t).removeClass(k).trigger("sticky_kit:unstick"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-change")),a&&(b=i.height(),x+l>b&&(Q||(M-=s,M=Math.max(b-x,M),M=Math.min(l,M),z&&n.css({top:M+"px"}))))):v>w&&(z=!0,(t={position:"fixed",top:M}).width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(t).addClass(k),null==u&&(n.after(S),"left"!==j&&"right"!==j||S.append(n)),n.trigger("sticky_kit:stick"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-change")),!1===p||h||(!n.is(".fusion-sticky-transition")&&v-w>p?(n.addClass("fusion-sticky-transition"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-transition-change")):n.is(".fusion-sticky-transition")&&v-w<=p&&(n.removeClass("fusion-sticky-transition"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-transition-change"))),!1!==y&&0!==y&&(0>s?n.hasClass("fusion-scrolling-up")||(n.addClass("fusion-scrolling-up").removeClass("fusion-scrolling-down"),i.trigger("fusion-sticky-scroll-change")):n.hasClass("fusion-scrolling-down")||(n.addClass("fusion-scrolling-down").removeClass("fusion-scrolling-up"),i.trigger("fusion-sticky-scroll-change")),!n.is(".fusion-sticky-scroll-transition")&&v-w>y?(n.addClass("fusion-sticky-scroll-transition"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-scroll-change")):n.is(".fusion-sticky-scroll-transition")&&v-w<=y&&(n.removeClass("fusion-sticky-scroll-transition"),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-scroll-change"))),z&&e&&(null==m&&(m=v+x+M>f+c),!Q&&m)?(Q=!0,"static"===O.css("position")&&O.css({position:"relative"}),n.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")):void 0},F=function(){return T(),W()},_=function(t){var i;"object"==typeof fusion&&"function"==typeof fusion.getHeight&&(l=void 0===s.offset_top?0:s.offset_top,"fusion-container-stuck"===k?l=fusion.getHeight(l)+adminBarHeight:"fusion-sidebar-stuck"===k&&jQuery(".fusion-tb-header").length&&"function"==typeof fusionGetStickyOffset&&(i=fusionGetStickyOffset())&&(l=i+adminBarHeight+50),M=l),F(),void 0!==t&&"string"==typeof t.type&&"resize"===t.type&&"function"==typeof q&&q()},"object"==typeof fusion&&"function"==typeof fusion.debounce)var q=fusion.debounce(_,350);return C=function(t){m||(m=!0,_(t),q(),setTimeout(function(){m=!1},100))},b=function(){h&&D.observe(n.next()[0])},I=function(){if(H=!0,i.off("touchmove",W),i.off("scroll",W),i.off("resize",_),t(document.body).off("sticky_kit:recalc",F),"fusion-container-stuck"===k&&i.trigger("fusion-sticky-change"),n.off("sticky_kit:detach",I),n.removeData("sticky_kit"),n.removeAttr("data-sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),n.removeClass("fusion-sticky-transition"),O.position("position",""),z)return null==u&&("left"!==j&&"right"!==j||n.insertAfter(S),S.remove()),n.removeClass(k);n.next(".fusion-sticky-spacer").length&&n.next(".fusion-sticky-spacer").remove()},S&&S.detach(),"fusion-sidebar-stuck"===k&&jQuery(".fusion-tb-header").length&&i.on("fusion-sticky-change fusion-sticky-scroll-change fusion-sticky-transition-change",C),i.on("touchmove",W),i.on("scroll",W),i.on("resize",_),t(document.body).on("sticky_kit:recalc",F),n.on("sticky_kit:detach",I),n.on("sticky_kit:stick",b),setTimeout(W,0)}}},c=0,f=this.length;c<f;c++)n=this[c],r(t(n));return this}}).call(this);